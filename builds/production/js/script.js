!function e(t,o,i){function a(l,s){if(!o[l]){if(!t[l]){var n="function"==typeof require&&require;if(!s&&n)return n(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+l+"'")}var d=o[l]={exports:{}};t[l][0].call(d.exports,function(e){var o=t[l][1][e];return a(o||e)},d,d.exports,e,t,o,i)}return o[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(e,t,o){$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]||0:null};var i=$.urlParam("chart");null!=i&&($(".slide").hide(),$("#"+i).show()),d3.json("./shapefiles/stp_wards.geojson",function(e,t){d3.json("./shapefiles/zip_summary.json",function(e,o){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var i=new mapboxgl.Map({container:"mapSTP",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.089958,44.953703],zoom:9,minZoom:2});i.addControl(new mapboxgl.NavigationControl),i.scrollZoom.disable(),i.on("load",function(){$(".mapboxgl-ctrl-geocoder input").attr("placeholder","Search by city or address"),i.addSource("zip",{type:"geojson",data:o}),i.addLayer({id:"overall-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_total",stops:[[0,"#fefefe"],[500,"#f0f0f0"],[1e3,"#d9d9d9"],[5e3,"#bdbdbd"],[1e4,"#969696"],[15e3,"#737373"],[2e4,"#525252"],[5e4,"#252525"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),i.addLayer({id:"carter-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_carter",stops:[[0,"#fefefe"],[300,"#e5f5e0"],[675,"#c7e9c0"],[1250,"#a1d99b"],[2500,"#74c476"],[5e3,"#41ab5d"],[1e4,"#238b45"],[15e3,"#005a32"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),i.addLayer({id:"dickenson-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_dickenson",stops:[[0,"#fefefe"],[50,"#fee8c8"],[1e3,"#fdd49e"],[2e3,"#fdbb84"],[2500,"#fc8d59"],[3e3,"#ef6548"],[3500,"#d7301f"],[4e3,"#990000"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),i.addLayer({id:"goldstein-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_goldstein",stops:[[0,"#fefefe"],[50,"#ece7f2"],[100,"#d0d1e6"],[4e3,"#a6bddb"],[6e3,"#74a9cf"],[7e3,"#3690c0"],[8e3,"#0570b0"],[9e3,"#034e7b"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),i.addLayer({id:"harris-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_harris",stops:[[0,"#fefefe"],[500,"#fee0d2"],[1e3,"#fcbba1"],[5e3,"#fc9272"],[1e4,"#fb6a4a"],[15e3,"#ef3b2c"],[2e4,"#cb181d"],[4e4,"#99000d"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),i.addLayer({id:"thao-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_thao",stops:[[0,"#fefefe"],[500,"#efedf5"],[1e3,"#dadaeb"],[2500,"#bcbddc"],[5e3,"#9e9ac8"],[6e3,"#807dba"],[8e3,"#6a51a3"],[1e4,"#4a1486"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),i.addSource("wards",{type:"geojson",data:t}),i.setLayoutProperty("carter-layer","visibility","none"),i.setLayoutProperty("dickenson-layer","visibility","none"),i.setLayoutProperty("goldstein-layer","visibility","none"),i.setLayoutProperty("harris-layer","visibility","none"),i.setLayoutProperty("thao-layer","visibility","none"),i.setLayoutProperty("overall-layer","visibility","visible"),$(".clicky").click(function(){$(".clicky").removeClass("clickSelect"),$(this).addClass("clickSelect"),i.setLayoutProperty("overall-layer","visibility","none"),i.setLayoutProperty("carter-layer","visibility","none"),i.setLayoutProperty("dickenson-layer","visibility","none"),i.setLayoutProperty("goldstein-layer","visibility","none"),i.setLayoutProperty("harris-layer","visibility","none"),i.setLayoutProperty("thao-layer","visibility","none"),i.setLayoutProperty($(this).attr("data")+"-layer","visibility","visible")});var e=new mapboxgl.Popup({closeButton:!1,closeOnClick:!0});i.on("mousemove",function(t){var o=i.queryRenderedFeatures(t.point,{layers:["overall-layer","carter-layer","dickenson-layer","goldstein-layer","harris-layer","thao-layer"]});if(i.getCanvas().style.cursor=o.length?"pointer":"",!o.length)return void e.remove();var a=o[0];e.setLngLat(t.lngLat).setHTML("<div>"+a.properties.ZCTA5CE10+"</div><div class='legend gray3'><div class='label'>Total</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_total)+"</div></div><div class='legend green3'><div class='label'>Carter</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_carter)+"</div></div><div class='legend orange3'><div class='label'>Dickenson</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_dickenson)+"</div></div><div class='legend blue3'><div class='label'>Goldstein</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_goldstein)+"</div></div><div class='legend red4'><div class='label'>Harris</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_harris)+"</div></div><div class='legend purple3'><div class='label'>Thao</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_thao)+"</div></div>").addTo(i)})}),function(){var e={top:20,right:60,bottom:20,left:100};c3.generate({bindto:"#chartTotals",padding:e,data:{columns:[["Contributions",256742,13044,18668,285403,142697]],type:"bar",labels:{format:{Contributions:d3.format("$,")}}},legend:{show:!1},point:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0,top:15},tick:{format:d3.format("$,")}},x:{type:"category",categories:["Carter","Dickenson","Goldstein","Harris","Thao"],tick:{rotate:-75,multiline:!1},height:50}}})}(),function(){var e={top:20,right:60,bottom:20,left:100};c3.generate({bindto:"#chartState",padding:e,data:{columns:[["Minnesota",203412,11208,14854,279188,75037],["Out-of-state",53330,3750,800,12925,66865]],type:"bar",groups:[["Minnesota","Out-of-state"]]},legend:{show:!1},point:{show:!1},color:{pattern:["#333333","#aaaaaa"]},axis:{y:{min:0,padding:{bottom:0,top:15},tick:{format:d3.format("$,")}},x:{type:"category",categories:["Carter","Dickenson","Goldstein","Harris","Thao"],tick:{rotate:-75,multiline:!1},height:50}}})}(),function(){var e={top:20,right:60,bottom:20,left:100};c3.generate({bindto:"#chartRegion",padding:e,data:{columns:[["St. Paul",.532827592,.660617466,.859464432,.57128978,.261934588],["Minneapolis",.098148958,.015748868,.038327882,.066755089,.019626243],["Metro",.156982129,.066244593,.051103843,.285785863,.246529573],["Outstate",.006270877,.00668543,0,.031922626,704712e-9],["Elsewhere",.205770445,.250703642,.051103843,.044246642,.471204884]],type:"bar"},legend:{show:!1},point:{show:!1},color:{pattern:["#000000","#252525","#737373","#bdbdbd","#d9d9d9"]},axis:{y:{max:1,min:0,padding:{bottom:0,top:0},tick:{values:[0,.25,.5,.75,1],format:d3.format("%")}},x:{type:"category",categories:["Carter","Dickenson","Goldstein","Harris","Thao"],tick:{rotate:-75,multiline:!1},height:50}}})}()})})},{}]},{},[1]);