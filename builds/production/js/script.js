!function e(t,i,o){function a(l,s){if(!i[l]){if(!t[l]){var n="function"==typeof require&&require;if(!s&&n)return n(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+l+"'")}var d=i[l]={exports:{}};t[l][0].call(d.exports,function(e){var i=t[l][1][e];return a(i||e)},d,d.exports,e,t,i,o)}return i[l].exports}for(var r="function"==typeof require&&require,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(e,t,i){$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]||0:null};var o=$.urlParam("chart");null!=o&&($(".slide").hide(),$("#"+o).show()),d3.json("./shapefiles/stp_wards.geojson",function(e,t){d3.json("./shapefiles/zip_summary.json",function(e,i){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var o=new mapboxgl.Map({container:"mapSTP",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.089958,44.953703],zoom:9,minZoom:2});o.addControl(new mapboxgl.NavigationControl),o.scrollZoom.disable(),o.on("load",function(){$(".mapboxgl-ctrl-geocoder input").attr("placeholder","Search by city or address"),o.addSource("zip",{type:"geojson",data:i}),o.addLayer({id:"overall-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_total",stops:[[0,"#fefefe"],[500,"#f0f0f0"],[1e3,"#d9d9d9"],[5e3,"#bdbdbd"],[1e4,"#969696"],[15e3,"#737373"],[2e4,"#525252"],[5e4,"#252525"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),o.addLayer({id:"carter-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_carter",stops:[[0,"#fefefe"],[300,"#e5f5e0"],[675,"#c7e9c0"],[1250,"#a1d99b"],[2500,"#74c476"],[5e3,"#41ab5d"],[1e4,"#238b45"],[15e3,"#005a32"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),o.addLayer({id:"dickinson-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_dickenson",stops:[[0,"#fefefe"],[50,"#fee8c8"],[1e3,"#fdd49e"],[2e3,"#fdbb84"],[2500,"#fc8d59"],[3e3,"#ef6548"],[3500,"#d7301f"],[4e3,"#990000"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),o.addLayer({id:"goldstein-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_goldstein",stops:[[0,"#fefefe"],[50,"#ece7f2"],[100,"#d0d1e6"],[4e3,"#a6bddb"],[6e3,"#74a9cf"],[7e3,"#3690c0"],[8e3,"#0570b0"],[9e3,"#034e7b"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),o.addLayer({id:"harris-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_harris",stops:[[0,"#fefefe"],[500,"#fee0d2"],[1e3,"#fcbba1"],[5e3,"#fc9272"],[1e4,"#fb6a4a"],[15e3,"#ef3b2c"],[2e4,"#cb181d"],[4e4,"#99000d"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),o.addLayer({id:"thao-layer",interactive:!0,source:"zip",layout:{},type:"fill",paint:{"fill-color":{property:"zip_summary_thao",stops:[[0,"#fefefe"],[500,"#efedf5"],[1e3,"#dadaeb"],[2500,"#bcbddc"],[5e3,"#9e9ac8"],[6e3,"#807dba"],[8e3,"#6a51a3"],[1e4,"#4a1486"]]},"fill-opacity":1,"fill-outline-color":"rgba(255, 255, 255, 0)"}},"place-neighbourhood"),o.addSource("wards",{type:"geojson",data:t}),o.setLayoutProperty("carter-layer","visibility","none"),o.setLayoutProperty("dickinson-layer","visibility","none"),o.setLayoutProperty("goldstein-layer","visibility","none"),o.setLayoutProperty("harris-layer","visibility","none"),o.setLayoutProperty("thao-layer","visibility","none"),o.setLayoutProperty("overall-layer","visibility","visible"),$(".clicky").click(function(){$(".clicky").removeClass("clickSelect"),$(this).addClass("clickSelect"),o.setLayoutProperty("overall-layer","visibility","none"),o.setLayoutProperty("carter-layer","visibility","none"),o.setLayoutProperty("dickinson-layer","visibility","none"),o.setLayoutProperty("goldstein-layer","visibility","none"),o.setLayoutProperty("harris-layer","visibility","none"),o.setLayoutProperty("thao-layer","visibility","none"),o.setLayoutProperty($(this).attr("data")+"-layer","visibility","visible")});var e=new mapboxgl.Popup({closeButton:!1,closeOnClick:!0});o.on("mousemove",function(t){var i=o.queryRenderedFeatures(t.point,{layers:["overall-layer","carter-layer","dickinson-layer","goldstein-layer","harris-layer","thao-layer"]});if(o.getCanvas().style.cursor=i.length?"pointer":"",!i.length)return void e.remove();var a=i[0];e.setLngLat(t.lngLat).setHTML("<div>"+a.properties.ZCTA5CE10+"</div><div class='legend gray3'><div class='label'>Total</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_total)+"</div></div><div class='legend green3'><div class='label'>Carter</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_carter)+"</div></div><div class='legend orange3'><div class='label'>Dickinson</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_dickenson)+"</div></div><div class='legend blue3'><div class='label'>Goldstein</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_goldstein)+"</div></div><div class='legend red4'><div class='label'>Harris</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_harris)+"</div></div><div class='legend purple3'><div class='label'>Thao</div><div class='total'>"+d3.format("$,")(a.properties.zip_summary_thao)+"</div></div>").addTo(o)})}),function(){var e={top:20,right:60,bottom:20,left:100};c3.generate({bindto:"#chartTotals",padding:e,data:{columns:[["Contributions",256742,13044,18668,285403,171642]],type:"bar",labels:{format:{Contributions:d3.format("$,")}}},legend:{show:!1},point:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0,top:15},tick:{format:d3.format("$,")}},x:{type:"category",categories:["Carter","Dickinson","Goldstein","Harris","Thao"],tick:{rotate:-75,multiline:!1},height:50}}})}(),function(){var e={top:20,right:60,bottom:20,left:100};c3.generate({bindto:"#chartState",padding:e,data:{columns:[["Minnesota",203412,11208,14854,279188,75037],["Out-of-state",53330,3750,800,12925,66865]],type:"bar",groups:[["Minnesota","Out-of-state"]]},legend:{show:!1},point:{show:!1},color:{pattern:["#333333","#aaaaaa"]},axis:{y:{min:0,padding:{bottom:0,top:15},tick:{format:d3.format("$,")}},x:{type:"category",categories:["Carter","Dickinson","Goldstein","Harris","Thao"],tick:{rotate:-75,multiline:!1},height:50}}})}(),function(){var e={top:20,right:60,bottom:20,left:100};c3.generate({bindto:"#chartRegion",padding:e,data:{columns:[["St. Paul",.509423433,.614651293,.876794053,.476449686,.295930297],["Minneapolis",.090105877,.018059783,.032140682,.066852939,.027732177],["Metro",.188429368,.07979822,.042854243,.387058897,.255112727],["Outstate",.006270877,.007666419,0,.014540865,.004952175],["Other States",.205770445,.203160098,.048211023,.05457204,.411990799]],type:"bar"},legend:{show:!1},point:{show:!1},color:{pattern:["#000000","#252525","#737373","#bdbdbd","#d9d9d9"]},axis:{y:{max:1,min:0,padding:{bottom:0,top:0},tick:{values:[0,.25,.5,.75,1],format:d3.format("%")}},x:{type:"category",categories:["Carter","Dickinson","Goldstein","Harris","Thao"],tick:{rotate:-75,multiline:!1},height:50}}})}()})})},{}]},{},[1]);